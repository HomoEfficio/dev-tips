# 도메인 설계 Tips

실무적으로, 경험적으로 알게된 설계 팁 끄적임


## 집계나 이력관리가 있다면 먼저 파악하자

- 집계나 이력관리가 부수적인 도메인 같지만 엔티티의 그룹핑이나 관리 단위를 여기에서 파악하게 되는 경우가 많다.
- 이 부분을 나중에 파악하면, 여태까지 설계했던 것들을 뒤엎는 일이 발생할 가능성이 높다.


## 생성, 소멸 시점을 먼저 파악하자

- 존재하는 엔티티의 상태 변화에만 집중하고, 생성/소멸을 경시하면 나중에 뒤엎는 일이 발생할 수 있다.
- 상태 변화보다 엔티티가 어떤 행위에 의해 생성되고, 어떤 행위에 의해 소멸되는지 먼저 파악하면 누락이 없다.


## 관계의 방향성을 잘 파악하자

- 카디널리티 자체에만 집중하는 경향이 있는데, 단방향/양방향 잘 파악해야 한다.
- JPA를 사용한다면 가능한 양방향으로 구현해야 1:N 조회 시 성능 손실이 적고, 애그리것 루트를 잘 활용할 수 있게 된다.


